<main>

  <div
    style="background-color: #fff; border: 1px solid grey; border-radius: 20px"
  >
    <!-- city heading strip -->
    <div
      style="
        border-radius: 20px 20px 0 0;
        border-bottom: 2px solid #000;
        height: 34px;
        width: 100%;
        background-color: #2f3268;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #fff;
      "
    >
      <h2
        style="
          margin: 0;
          margin-left: 10px;
          font-size: 19px;
          color: #fff;
          text-align: center;
        "
      >
        <!--       {{getNumberOfDaysInCity(citySchedule)}} Days in {{getCityName(citySchedule)}} -->

        {{ getNumberOfDaysInCity(citySchedule) }} Days in
        {{ getCityName(citySchedule) }}
      </h2>
    </div>

    <!-- city body -->
    <div
      style="
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 20px;
        border-radius: 0 0 20px 20px;
      "
    >
      <!-- particular property itinerary -->
      <div
        *ngFor="let currentHotel of allPropInCityCurrentHotelArr"
        style="width: 100%; background-color: white; border-radius: 20px"
      >
        <!-- heading for the property -->
        <div
          style="
            border-radius: 8px;
            height: 34px;
            width: 100%;
            display: flex;
            align-items: center;
            position: relative;
          "
        >
          <h1
            style="
              margin: 0;
              font-size: 18px;
              font-weight: 700;
              color: #ff4040;
              display: flex;
              justify-content: flex-end;
              align-items: center;
              width: 75%;
              padding-right: 20px;
            "
          >
            <!-- {{ getNumberOfDaysInProperty(property) }} Nights @ -->
            <span style="text-decoration: underline"
              >{{ getHotelNameToDisplay(currentHotel) }}
            </span>
          </h1>

          <!-- butttons -->
          <div
            style="
              display: flex;
              gap: 10px;
              width: 25%;
              justify-content: flex-end;
              padding-right: 10px;
            "
          >
            <button
              style="
                border: none;
                padding: 0;
                background-color: #fff;
                display: flex;
                justify-content: center; 
                align-items: center;
              "
              (click)="dialogbox()"
            >
              <img
                src="../../../assets/img/brand/pencil.png"
                alt="Alternate Hotels"
                height="22px"
                width="22px"
              />
            </button>

            <button
              style="
                background-color: rgb(104, 132, 255);
                color: #000;
                border: 1px solid #000;
                border-radius: 4px;
                /* padding: 3px 8px; */
                font-size: 12px;
                height: 21px;
                font-weight: 600;
                color: #fff;
              "
              (click)="showHotelInfo()"
            >
              Select Rooms
            </button>
          </div>
        </div>

        <!-- itinerary when staying in particular property -->
        <div>
          <!-- row 1 -->
          <div
            *ngFor="let oneDaySchedule of daysScheduleInCity"
            style="
              height: 65px;
              width: 100%;
              display: flex;
              border-top: 1px solid grey;
              border-bottom: 1px solid grey;
            "
          >
            <!-- date -->
            <div
              style="
                display: flex;
                align-items: center;
                width: 20%;
                height: 100%;
                justify-content: center;
                border-right: 1px solid grey;
              "
            >
              <h2 style="margin: 0; font-size: 20px; color: #ff4040">15Jan</h2>
            </div>

            <!-- morning -->
            <div
              style="
                width: 20%;
                display: flex;
                flex-direction: column;
                height: 100%;
                align-items: center;
                justify-content: space-evenly;
                border-right: 2px solid #000;
                border-right: 1px solid grey;
              "
            >
              <h2 style="margin: 0; font-size: 15px; color: #ff4040">
                Morning
              </h2>
              <p
                style="
                  margin: 0;
                  font-weight: 600;
                  font-size: 12px;
                  text-align: center;
                "
              >
                {{ getMorningActivity(oneDaySchedule) }}
              </p>
            </div>

            <!-- afternoon -->
            <div
              style="
                width: 20%;
                display: flex;
                flex-direction: column;
                height: 100%;
                align-items: center;
                justify-content: space-evenly;
                border-right: 2px solid #000;
                border-right: 1px solid grey;
              "
            >
              <h2 style="margin: 0; font-size: 15px; color: #ff4040">
                Afternoon
              </h2>
              <p
                style="
                  margin: 0;
                  font-weight: 600;
                  font-size: 12px;
                  text-align: center;
                "
              >
                {{ getAfternoonActivity(oneDaySchedule) }}
              </p>
            </div>

            <!-- evening -->
            <div
              style="
                width: 20%;
                display: flex;
                flex-direction: column;
                height: 100%;
                align-items: center;
                justify-content: space-evenly;
                border-right: 2px solid #000;
                border-right: 1px solid grey;
              "
            >
              <h2 style="margin: 0; font-size: 15px; color: #ff4040">
                Evening
              </h2>
              <p
                style="
                  margin: 0;
                  font-weight: 600;
                  font-size: 12px;
                  text-align: center;
                "
              >
                {{ getEveningActivity(oneDaySchedule) }}
              </p>
            </div>

            <!-- night -->
            <div
              style="
                width: 20%;
                display: flex;
                flex-direction: column;
                height: 100%;
                align-items: center;
                justify-content: space-evenly;
              "
            >
              <h2 style="margin: 0; font-size: 15px; color: #ff4040">Night</h2>
              <p
                style="
                  margin: 0;
                  font-weight: 600;
                  font-size: 12px;
                  text-align: center;
                "
              >
                {{ getNightActivity(oneDaySchedule) }}
              </p>
            </div>

            
          </div>
        </div>

        <app-hotel-cards
          *ngIf="dialog"
          [dialog]="dialog"
          [hotelName]="currentHotel.hotel.search.HotelName"
          (hotelNameChange)="handleHotelNameChange($event)"
          [checkInDate]="getCheckInDate(currentHotel.checkInDate)"
          (closeDialog)="dialogbox()"
          [city]="citySchedule" 
          (addToItineraryEvent)="handleAddToItinerary($event)"
          [allHotels]="allHotels"
          [docUid]="docUid" 
        ></app-hotel-cards>

        <div *ngIf="isHotelInfo">
          <app-hotel-info [hotelOnDisplayDetails]="currentHotel.hotel" (finalRoomsArrChange)="gotFinalRoomsArr($event)" ></app-hotel-info>
        </div>

      </div>
    </div>

    
  </div>






</main>
